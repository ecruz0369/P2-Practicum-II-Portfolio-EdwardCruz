---
title: "Presentation Exercise"
---

Placeholder file for the future data/results presentation exercise.
***#New York Times - Some Collegs have more students from the top 1 percent than the Botto 60. Find Yours. Jan 18, 2017***

```{r}
# Load necessary libraries
library(ggplot2)
library(tidyr)
library(dplyr)
library(ggthemes)

# Create synthetic data
income_groups <- c("Bottom 20%", "2nd quintile", "3rd quintile", "4th quintile", "Top 20%", "Top 10%", "Top 5%", "Top 1%", "Top 0.1%")
elite_university <- c(0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9) # Example percentages
any_college <- c(0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 0.95, 1, 1) # Example percentages

# Combine into a data frame
data <- data.frame(
  income_group = factor(income_groups, levels = income_groups),
  elite_university = elite_university,
  any_college = any_college
)

# Convert to long format for ggplot2
data_long <- data %>%
  pivot_longer(cols = c(elite_university, any_college), names_to = "type", values_to = "percentage")

# Plot the data
ggplot(data_long, aes(x = income_group, y = percentage, fill = type)) +
  geom_bar(stat = "identity", position = "stack") +
  scale_y_continuous(labels = scales::percent_format()) +
  scale_fill_manual(values = c("elite_university" = "red", "any_college" = "blue"), 
                    labels = c("Elite University", "Any College")) +
  labs(
    title = "Where today’s 25-year-olds went to college, grouped by their parents’ income",
    x = "Parental Income Group",
    y = "Percentage",
    fill = "College Type"
  ) +
  theme_fivethirtyeight() +
  theme(
    axis.text.x = element_text(angle = 45, hjust = 1),
    plot.title = element_text(size = 12)  # Adjust title size here (default is 18)
  )

```



***NBC News Inflation in America: Where are prices rising and falling?***
```{r}
#NBC News Inflation in America: Where are prices rising and falling?
# Load necessary libraries
library(ggplot2)

# Example data (replace with actual data)
categories <- c("Overall inflation", "Airfare", "Cars", "Clothing", "Electricity", "Gas", "Housing costs", "Meat and eggs")
percentage_change <- c(2.5, -15.3, 6.7, 1.2, 3.8, -4.1, 4.5, 5.9)  # Example percentages

# Create a data frame
data <- data.frame(
  category = categories,
  percentage_change = percentage_change
)

# Plot the data
ggplot(data, aes(x = category, y = percentage_change, fill = factor(sign(percentage_change)))) +
  geom_bar(stat = "identity", color = "black", show.legend = FALSE) +
  scale_fill_manual(values = c("red", "green"), labels = c("Decrease", "Increase")) +
  geom_text(aes(label = paste0(percentage_change, "%")), vjust = ifelse(percentage_change >= 0, -0.5, 1.5), color = "black", size = 4) +
  coord_flip() +  # Flip the coordinates to make horizontal bars
  labs(
    title = "Year-over-Year Price Changes for Major Categories of Goods",
    subtitle = "Data as of June 12, 2024\nAll items are percentage change from a year earlier",
    x = "Category",
    y = "Percentage Change (%)"
  ) +
  theme_economist(base_size = 14) +
  theme(
    plot.title = element_text(hjust = 0.5, size = 12, face = "bold"),
    plot.subtitle = element_text(hjust = 0.5, size = 14),
    axis.title.y = element_text(size = 14, face = "bold"),
    axis.text = element_text(size = 10),  # Adjusted axis text size
    axis.text.y = element_text(hjust = 1)
  )

```
***NBC News Inflation in America: Where are prices rising and falling?***
```{r}
#NBC News Inflation in America: Where are prices rising and falling?
# Load necessary libraries
library(ggplot2)

# Example data (replace with actual data)
years <- c(2019, 2020, 2021, 2022, 2023)
cpi_change <- c(1.8, 1.4, 4.2, 2.9, 5.1)  # Example CPI percentage change

# Create a data frame
data <- data.frame(
  year = years,
  cpi_change = cpi_change
)

# Plot the data
ggplot(data, aes(x = year, y = cpi_change)) +
  geom_line(color = "#0072B2", size = 1.5) +  # Line plot
  geom_point(color = "#0072B2", size = 3) +   # Points at data points
  geom_text(aes(label = paste0(cpi_change, "%")), vjust = -0.5, hjust = 0.5, color = "#0072B2", size = 4) +  # Labels on points
  scale_x_continuous(breaks = years, labels = years) +  # X-axis labels
  scale_y_continuous(limits = c(0, max(cpi_change) * 1.1), breaks = seq(0, max(cpi_change) * 1.1, by = 1), labels = paste0(seq(0, max(cpi_change) * 1.1, by = 1), "%")) +  # Y-axis labels
  labs(
    title = "Consumer Price Index Change from One Year Prior",
    x = "Year",
    y = "CPI Change (%)"
  ) +
  theme_wsj(base_size =1) +
  theme(
    plot.title = element_text(hjust = 0.5, size = 18, face = "bold"),
    axis.title = element_text(size = 16, face = "bold"),
    axis.text = element_text(size = 12),
    panel.grid.major.x = element_line(color = "grey90"),  # Gridlines
    panel.grid.minor.x = element_blank(),  # Minor gridlines
    panel.grid.major.y = element_line(color = "grey90")
  )

```
***NBC News Inflation in America: Where are prices rising and falling?***
```{r}
#NBC News Inflation in America: Where are prices rising and falling?
# Load necessary libraries
library(ggplot2)
library(dplyr)
library(tidyr)

# Example data (replace with actual data)
categories <- c("Overall inflation", "Airfare", "Cars", "Clothing", "Electricity", "Gas", "Housing costs", "Meat and eggs")
months <- c("July '23", "Aug. '23", "Sept. '23", "Oct. '23", "Nov. '23", "Dec. '23", "Jan. '24", "Feb. '24", "Mar. '24", "Apr. '24", "May '24")
percentage_changes <- matrix(c(
  3.2, -5.1, 2.9, 1.5, 3.8, -2.3, 4.7, 5.2, 4.3, 3.9, 3.6,
  -15.2, -10.5, -8.1, -9.4, -6.3, -12.1, -7.8, -5.9, -6.5, -7.2, -8.3,
  6.5, 4.8, 5.2, 7.1, 6.3, 5.9, 5.7, 6.2, 6.8, 7.5, 7.9,
  1.2, 1.8, 2.5, 2.9, 2.4, 1.6, 2.8, 3.1, 3.4, 3.6, 3.9,
  4.1, 3.5, 3.9, 4.2, 3.8, 4.5, 4.3, 4.6, 4.8, 4.2, 4.1,
  -3.2, -4.1, -3.5, -3.9, -3.6, -4.3, -3.8, -3.4, -3.7, -3.9, -4.2,
  5.5, 5.2, 5.9, 6.3, 5.7, 5.8, 5.6, 5.9, 6.1, 5.7, 5.9,
  6.8, 7.1, 6.5, 7.2, 6.9, 6.7, 6.5, 6.3, 6.9, 7.1, 7.3
), nrow = length(categories), byrow = TRUE)

# Create a data frame
data <- data.frame(
  category = rep(categories, each = length(months)),
  month = rep(months, length(categories)),
  percentage_change = as.vector(percentage_changes)
)

# Plot the heatmap
ggplot(data, aes(x = month, y = category, fill = percentage_change)) +
  geom_tile(color = "white") +
  scale_fill_gradient2(low = "#D7191C", mid = "white", high = "#1A9641", midpoint = 0, limits = c(-10, 10), name = "Percentage Change (%)") +
  geom_text(aes(label = paste0(percentage_change, "%")), size = 1, color = "black") +
  labs(
    title = "Year-over-Year Price Changes for Major Category of Goods",
    subtitle = "Data as of June 12, 2024\nAll items are percentage change from a year earlier",
    x = "Month",
    y = "Category"
  ) +
  theme_classic(base_size = 10) +
  theme(
    plot.title = element_text(hjust = 0.5, size = 18, face = "bold"),
    plot.subtitle = element_text(hjust = 0.5, size = 14),
    axis.text.x = element_text(angle = 45, hjust = 1),
    axis.title = element_text(size = 16, face = "bold"),
    legend.title = element_text(size = 14, face = "bold"),
    legend.text = element_text(size = 12)
  )

```

